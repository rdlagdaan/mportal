import{j as s,n as o}from"./index-C-BYqN1x.js";import{r as p}from"./handsontable-DB04mlRq.js";import"./react-DJG_os-6.js";function u(){const[l,n]=p.useState([]),[a,r]=p.useState(""),t=async()=>{const e=await o.get("/hrsi/leave/approvals/inbox");n(e.data?.data||[])};p.useEffect(()=>{t()},[]);const d=async e=>{await o.post(`/hrsi/leave/approvals/steps/${e}/approve`,{remarks:a}),r(""),t()},i=async e=>{await o.post(`/hrsi/leave/approvals/steps/${e}/reject`,{remarks:a}),r(""),t()};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Leave Approval"}),s.jsxs("div",{className:"space-y-3",children:[l.map(e=>s.jsxs("div",{className:"border p-3 rounded",children:[s.jsxs("div",{className:"font-medium mb-1",children:["Step #",e.id," â€” order ",e.step_order]}),s.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded",children:JSON.stringify(e.request,null,2)}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx("input",{className:"border p-1 text-sm flex-1",placeholder:"Remarks",value:a,onChange:c=>r(c.target.value)}),s.jsx("button",{className:"border px-2 py-1 rounded",onClick:()=>d(e.id),children:"Approve"}),s.jsx("button",{className:"border px-2 py-1 rounded",onClick:()=>i(e.id),children:"Reject"})]})]},e.id)),l.length===0&&s.jsx("div",{className:"text-sm opacity-70",children:"No pending approvals."})]})]})}export{u as default};
