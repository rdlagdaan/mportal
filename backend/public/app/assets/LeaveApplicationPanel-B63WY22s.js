import{j as e,n as r}from"./index-DH111nNQ.js";import{r as n}from"./handsontable-B9UYrM3w.js";import"./react-DJG_os-6.js";function x(){const[s,t]=n.useState({employee_id:window.currentEmployeeId,school_year_id:window.currentSchoolYearId,leave_type_id:"",start_date:"",end_date:"",part_day:"",reason_text:""}),[l,d]=n.useState(null),o=async a=>{a.preventDefault();const c=await r.post("/hrsi/leave/requests",s);d(c.data)},i=async()=>{l?.id&&(await r.post(`/hrsi/leave/requests/${l.id}/submit`),alert("Submitted for approval."))};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-lg font-semibold",children:"Leave Application"}),e.jsxs("form",{onSubmit:o,className:"grid gap-3 max-w-xl",children:[e.jsxs("label",{className:"text-sm",children:[e.jsx("span",{className:"block mb-1",children:"Leave Type ID"}),e.jsx("input",{className:"border p-2 w-full",value:s.leave_type_id,onChange:a=>t({...s,leave_type_id:a.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"text-sm",children:[e.jsx("span",{className:"block mb-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"border p-2 w-full",value:s.start_date,onChange:a=>t({...s,start_date:a.target.value})})]}),e.jsxs("label",{className:"text-sm",children:[e.jsx("span",{className:"block mb-1",children:"End Date"}),e.jsx("input",{type:"date",className:"border p-2 w-full",value:s.end_date,onChange:a=>t({...s,end_date:a.target.value})})]})]}),e.jsxs("label",{className:"text-sm",children:[e.jsx("span",{className:"block mb-1",children:"Part Day"}),e.jsxs("select",{className:"border p-2 w-full",value:s.part_day,onChange:a=>t({...s,part_day:a.target.value}),children:[e.jsx("option",{value:"",children:"Full Day"}),e.jsx("option",{value:"AM",children:"AM"}),e.jsx("option",{value:"PM",children:"PM"})]})]}),e.jsxs("label",{className:"text-sm",children:[e.jsx("span",{className:"block mb-1",children:"Reason"}),e.jsx("textarea",{className:"border p-2 w-full",rows:3,onChange:a=>t({...s,reason_text:a.target.value})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-2 border rounded",type:"submit",children:"Save Draft"}),e.jsx("button",{className:"px-3 py-2 border rounded",type:"button",onClick:i,disabled:!l?.id,children:"Submit for Approval"})]})]}),l&&e.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded max-w-xl overflow-auto",children:JSON.stringify(l,null,2)})]})}export{x as default};
